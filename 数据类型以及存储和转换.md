# 数据类型以及存储和转换

---

**数据类型**
ES5 数据类型（6种）及其划分（2类）
1. 基本（原始）类型（Number、String、Boolean、Null、Undefined）
2. 引用（对象）类型（Object（Array、Function、Date、Error等））

**typeof —— 判断数据类型**
typeof 操作符
返回一个字符串，表示未经计算的操作数的类型
语句：typeof operand  or  typeof (operand)
类型|结果
--|--
Undefined|"undefined"
Null|"object"
Boolean|"boolean"
Number|"number"
String|"string"
函数对象|"function"
任何其它对象|"object"

**值和类型**
1. JavaScript中的变量是没有类型的，只有值才有。变量可以随时持有任何类型的值。（动态类型）
2. 在对变量执行typeof操作时，得到的结果并不是该变量的类型，而是该变量持有的值的类型，因为JavaScript中的变量没有类型。

---

**栈/堆**
栈内存|堆内存
--|--
存储基础数据类型|存储引用数据类型/基础数据类型，比如闭包中的数据
按值访问|按引用访问
存储的值大小固定|存储的值大小不固定，可动态调整
由系统自动分配内存空间|由程序员通过代码进行分配
主要用来执行程序|主要用来存放对象
空间小，运行效率高|空间大，但是运行效率相对较低
先进后出，后进先出|无序存储，可根据引用直接获取

**存储**
1. 基本类型
基本类型的变量是存放在栈区的
基本类型的值是不可变的
2. 引用类型
引用类型的值是同时保存在栈内存和堆内存中的对象

**基本类型与引用类型的区别**
**  **|使用值|使用引用
--|--|--
复制|实际复制的是值，存在两个不同的、独立的副本|复制的只是对数值的引用。如果通过这个新的引用修改了数值，这个改变对原始的引用来说也可见
传递|传递给函数的是值的一个独立的副本，对它的改变在函数外部没有影响|传递给函数的是对数值的一个引用。如函数通过传递给它的引用修改了数值，这个改变在函数外部也可见
比较|比较的是两个独立的值(通常逐字节比较),以判断它们是否相同|比较的是两个引用，以判断它们引用的是否是同一个数值。对两个不同的数值的引用不相等，即使这两个数值是由相同的字节构成的

---

**数据类型转换**
类型转换 —— 将值从一种类型转换为另一种类型
1. 隐式类型转换：通常是某些操作的副作用，不易看出
2. 显示类型转换：可以在代码中明显看出

**NaN (Not a Number)**
1. 表示一个没有意义、不正确的数值
2. console.log( typeof NaN);  ——Number
3. 与自身不相等  —— NaN != NaN

**isNaN( ) 函数**
1. 用来检测参数是否为 NaN 值
2. 参数是 "NaN" 时返回 true，否则返回 false
3. isNaN("123abc")；  —— true

**转换为 Number 类型规则**
值|结果
--|--
undefined|NaN
null|0
布尔值|false转化成0，true转化成1
数字|保持不变
字符串|解析字符串中的数字（忽略开头和结尾的空格），字符串转化成0

强制转换为 Number 类型：parseInt()、parseFloat()、Number()

**转换为 String 类型规则**
值|结果
--|--
undefined|'undefined'
null|'null'
布尔值|false转化成'false'，true转化成'true'
数字|例如，3.14转化成'3.14'
字符串|保持不变

强制转换为 String 类型：String()

**转换为 Boolean 类型规则**
值|结果
--|--
undefined|false
null|false
布尔值|保持不变
数字|0、NaN转化成false，其他数字转化成true
字符串|空字符串转化成false，其它字符串转化成true

强制转换为 Boolean 类型：Boolean()

**转换为 Object 类型**
1. 对象转换为自身
2. undefined 和 null 转换为空对象{}
3. string/number/boolean 转换为包装对象
值|结果
--|--
(无参数调用）|{}
undefined|{}
null|{}
布尔值 bool|new Boolean(bool)
数字 num|new Number(num)
字符串 str|new String(str)
对象 obj|obj(未改变，不需要转化）

Object 转换为 Boolean:
任意对象转换为布尔值为 true，包括空对象

Object 转换为 Number：
1. 先调用 valueOf() 方法，结果为原始值，返回；
2. 再调用 toString() 方法，结果为原始值，返回；
3. 原始值转换为 Number 类型

Object 转换为 String：
1. 先调用 toString() 方法，结果为原始值，返回；
2. 再调用 valueOf() 方法，结果为原始值，返回；
3. 原始值转换为 String 类型

**包装对象**
JavaScript 对象是一种复合值，是属性的集合
通过 String()，Number()，Boolean() 构造函数显示创建包装对象
包装对象:
1. 存取字符串、数字或布尔值的属性时创建的临时对象称为包装对象
2. 区分字符值和字符串对象、数字和数值对象、布尔值和布尔对象
3. 字符串、数字和布尔值的属性时只读的

**== (宽松相等)**
不同数据类型判断宽松相等
1. undefined 和 null，它们被认为是宽松相等的（undefined == null //true）
2. 一个字符串和一个数字，则将字符串转换为一个数字
3. 一个布尔值和一个非布尔值，则将布尔值转换为一个数字，然后(再次)进行宽松比较
4.  一个对象和一个数字，字符串，布尔值，则尝试转换此对象为一个原始值然后(再次)进行宽松比较
5. 不符合上述提到的情况，宽松比较的结果是 false

**+ 号**
1. 算数加号
2. 拼接符：+ 号左右只要有一边是字符串型，都是拼接












